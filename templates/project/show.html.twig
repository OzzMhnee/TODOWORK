{% extends 'base.html.twig' %}

{% block body %}
<div class="max-w-lg mx-auto mt-10 bg-white p-8 rounded shadow">
    <h1 class="text-2xl font-bold mb-6 text-green-600">{{ project.name }}</h1>
    <p class="mb-2"><strong>Description :</strong> {{ project.description }}</p>
    <p class="mb-2"><strong>Workspace :</strong> {{ project.workspace.name }}</p>
    <p class="mb-2"><strong>Créé par :</strong> {{ project.createdBy.firstName }} {{ project.createdBy.lastName }}</p>
    <p class="mb-2"><strong>Label :</strong> {{ project.label ? project.label.name : 'Aucun' }}</p>
    <a href="{{ path('app_project_edit', {'id': project.id}) }}" class="text-green-600 hover:underline mr-4">Modifier</a>
    <a href="{{ path('app_project') }}" class="text-green-600 hover:underline">Retour à la liste</a>
    <hr class="my-4">
    <h2>Hiérarchie du projet</h2>
    <ul class="ml-4 mt-2">
        {% for board in project.boards %}
            <li>
                <span class="font-semibold text-blue-500">Board :</span> {{ board.name }}
                <ul class="ml-4">
                    {% for liste in board.listes %}
                        <li>
                            <span class="font-semibold text-purple-600">Liste :</span> {{ liste.name }}
                            <ul class="ml-4">
                                {% for card in liste.cards %}
                                    <li>
                                        <span class="font-semibold text-gray-700">Carte :</span> {{ card.title }}
                                    </li>
                                {% else %}
                                    <li class="text-gray-400">Aucune carte</li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% else %}
                        <li class="text-gray-400">Aucune liste</li>
                    {% endfor %}
                </ul>
            </li>
        {% else %}
            <li class="text-gray-400">Aucun board</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
